{% extends "base.html" %}

{% block content %}
<h2>Create New Order</h2>
<form method="POST">
    <label for="cashierID">Cashier:</label><br>
    <select id="cashierID" name="cashierID" required>
        {% for cashier in cashiers %}
        <option value="{{ cashier.cashierID }}">{{ cashier.cashierName }}</option>
        {% endfor %}
    </select><br><br>

    <h3>Items</h3>
    <div id="items-container">
        <div class="item-row">
            <label for="itemID">Item:</label><br>
            <select id="itemID" name="itemID" required>
                {% for item in items %}
                <option value="{{ item.itemID }}">{{ item.itemName }}</option>
                {% endfor %}
            </select><br>
            <label for="discount">Discount:</label><br>
            <input type="text" id="discount" name="discount" value="0" required><br>
            <label for="quantity">Quantity:</label><br>
            <input type="number" id="quantity" name="quantity" value="1" required><br><br>
        </div>
    </div>

    <button type="button" onclick="addItemRow()">Add Another Item</button><br><br>
    <input type="submit" value="Create Order">
</form>

<script>
    function addItemRow() {
        var itemsContainer = document.getElementById('items-container');
        var newItemRow = document.createElement('div');
        newItemRow.className = 'item-row';
        newItemRow.innerHTML = `
            <label for="itemID">Item:</label><br>
            <select id="itemID" name="itemID" required>
                {% for item in items %}
                <option value="{{ item.itemID }}">{{ item.itemName }}</option>
                {% endfor %}
            </select><br>
            <label for="discount">Discount:</label><br>
            <input type="text" id="discount" name="discount" value="0" required><br>
            <label for="quantity">Quantity:</label><br>
            <input type="number" id="quantity" name="quantity" value="1" required><br><br>
        `;
        itemsContainer.appendChild(newItemRow);
    }
</script>
{% endblock %}
